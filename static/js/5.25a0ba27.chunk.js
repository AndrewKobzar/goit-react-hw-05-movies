"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[5],{5:function(e,t,r){r.r(t),r.d(t,{default:function(){return h}});var n=r(861),u=r(439),s=r(757),a=r.n(s),c=r(791),i=r(87),o=r(689),l=r(266),f=r(184),p=function(e){var t=e.handleSubmit;return(0,f.jsxs)("form",{onSubmit:t,children:[(0,f.jsx)("input",{type:"text",name:"query",placeholder:"search"}),(0,f.jsx)("button",{type:"submit",children:"Search"})]})},h=function(){var e=(0,c.useState)(""),t=(0,u.Z)(e,2),r=t[0],s=t[1],h=(0,c.useState)([]),v=(0,u.Z)(h,2),m=v[0],x=v[1],d=(0,i.lr)(),b=(0,u.Z)(d,2),g=b[0],y=b[1],k=(0,o.TH)(),j=g.get("query");(0,c.useEffect)((function(){if(j){var e=function(){var e=(0,n.Z)(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,l.ZP)(j);case 3:t=e.sent,x(t.results),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}}),[j]),(0,c.useEffect)((function(){if(r){var e=function(){var e=(0,n.Z)(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,l.ZP)(r);case 3:if(0!==(t=e.sent).results.length){e.next=7;break}return alert("no response on request ".concat(r)),e.abrupt("return");case 7:x(t.results),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();e()}}),[r]);return(0,f.jsxs)("div",{children:[m&&(0,f.jsx)(p,{handleSubmit:function(e){e.preventDefault(),s(e.target.elements.query.value),y(""!==r?{}:{query:e.target.elements.query.value}),e.target.elements.query.value=""}}),(0,f.jsx)("ul",{children:m.map((function(e){var t=e.title,r=e.id;return(0,f.jsx)("li",{children:(0,f.jsx)(i.rU,{to:"".concat(r),state:{from:k},children:t})},r)}))})]})}}}]);
//# sourceMappingURL=5.25a0ba27.chunk.js.map