{"version":3,"file":"static/js/5.25a0ba27.chunk.js","mappings":"mQAcA,EAbkB,SAAC,GAAsB,IAApBA,EAAmB,EAAnBA,aACnB,OACE,kBAAOC,SAAUD,EAAjB,WACE,kBACEE,KAAK,OACLC,KAAK,QACLC,YAAY,YAEd,mBAAQF,KAAK,SAAb,sBAGL,EC6DD,EApEe,WACb,OAA0BG,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAA4BF,EAAAA,EAAAA,UAAS,IAArC,eAAOG,EAAP,KAAeC,EAAf,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,GAAWC,EAAAA,EAAAA,MACXC,EAAQJ,EAAaK,IAAI,UAE/BC,EAAAA,EAAAA,YAAU,WACR,GAAKF,EAAL,CAGA,IAAMG,EAAW,mCAAG,8GAEGC,EAAAA,EAAAA,IAAeJ,GAFlB,OAEVK,EAFU,OAGhBX,EAAUW,EAAKC,SAHC,gDAKhBC,QAAQC,IAAI,KAAMC,SALF,yDAAH,qDAQjBN,GATC,CAUF,GAAE,CAACH,KAEJE,EAAAA,EAAAA,YAAU,WACR,GAAKX,EAAL,CAGA,IAAMY,EAAW,mCAAG,8GAEGC,EAAAA,EAAAA,IAAeb,GAFlB,UAGY,KADtBc,EAFU,QAGPC,QAAQI,OAHD,uBAIdC,MAAM,0BAAD,OAA2BpB,IAJlB,0BAOhBG,EAAUW,EAAKC,SAPC,kDAShBC,QAAQC,IAAI,KAAMC,SATF,0DAAH,qDAajBN,GAdC,CAeF,GAAE,CAACZ,IAYJ,OACE,2BACGE,IAAU,SAAC,EAAD,CAAWR,aAZL,SAAA2B,GACnBA,EAAEC,iBAEFrB,EAASoB,EAAEE,OAAOC,SAASf,MAAMT,OACjCM,EACY,KAAVN,EAAe,CAAC,EAAI,CAAES,MAAOY,EAAEE,OAAOC,SAASf,MAAMT,QAEvDqB,EAAEE,OAAOC,SAASf,MAAMT,MAAQ,EACjC,KAKG,wBACGE,EAAOuB,KAAI,gBAAGC,EAAH,EAAGA,MAAOC,EAAV,EAAUA,GAAV,OACV,yBACE,SAAC,KAAD,CAAOC,GAAE,UAAKD,GAAME,MAAO,CAAEC,KAAMvB,GAAnC,SACGmB,KAFKC,EADA,QAUnB,C","sources":["components/SearchBox/SearchForm.jsx","Pages/Movies/Movies.jsx"],"sourcesContent":["\nconst SearchBox = ({ handleSubmit }) => {\n  return (\n    <form  onSubmit={handleSubmit}>\n      <input\n        type=\"text\"\n        name=\"query\"\n        placeholder=\"search\"\n      ></input>\n      <button type=\"submit\">Search</button>\n    </form>\n  );\n};\n\nexport default SearchBox;\n","import { useState, useEffect } from 'react';\nimport { useLocation, useSearchParams, Link } from 'react-router-dom';\nimport { MovieSearchApi } from 'components/Servise/MovieApi';\nimport SearchBox from 'components/SearchBox/SearchForm';\n\nconst Movies = () => {\n  const [value, setValue] = useState('');\n  const [movies, setMovies] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const location = useLocation();\n  const query = searchParams.get('query');\n\n  useEffect(() => {\n    if (!query) {\n      return;\n    }\n    const searchMovie = async () => {\n      try {\n        const data = await MovieSearchApi(query);\n        setMovies(data.results);\n      } catch (error) {\n        console.log(error.message);\n      }\n    };\n    searchMovie();\n  }, [query]);\n\n  useEffect(() => {\n    if (!value) {\n      return;\n    }\n    const searchMovie = async () => {\n      try {\n        const data = await MovieSearchApi(value);\n        if (data.results.length === 0) {\n          alert(`no response on request ${value}`);\n          return;\n        }\n        setMovies(data.results);\n      } catch (error) {\n        console.log(error.message);\n      }\n    };\n\n    searchMovie();\n  }, [value]);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    setValue(e.target.elements.query.value);\n    setSearchParams(\n      value !== '' ? {} : { query: e.target.elements.query.value }\n    );\n    e.target.elements.query.value = '';\n  };\n\n  return (\n    <div >\n      {movies && <SearchBox handleSubmit={handleSubmit} />}\n      <ul >\n        {movies.map(({ title, id }) => (\n          <li  key={id}>\n            <Link  to={`${id}`} state={{ from: location }}>\n              {title}\n            </Link>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default Movies;\n"],"names":["handleSubmit","onSubmit","type","name","placeholder","useState","value","setValue","movies","setMovies","useSearchParams","searchParams","setSearchParams","location","useLocation","query","get","useEffect","searchMovie","MovieSearchApi","data","results","console","log","message","length","alert","e","preventDefault","target","elements","map","title","id","to","state","from"],"sourceRoot":""}